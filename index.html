<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎯 Sistema de Avaliação de Desempenho</title>
    <style>
        :root {
            --cor-primaria: #1e441e;
            --cor-secundaria: #8FD694;
            --cor-acento: #77AD78;
            --cor-neutra: #6F8F72;
            --cor-escura: #504B43;
            --cor-clara: #F8FAF9;
            --cor-branca: #FFFFFF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--cor-clara); 
            line-height: 1.6;
            color: var(--cor-escura);
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-8px); }
            60% { transform: translateY(-4px); }
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px;
            animation: slideInUp 0.6s ease-out;
        }

        /* Header */
        .main-header {
            background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-primaria) 100%);
            color: white;
            padding: 30px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            border-radius: 15px;
            animation: slideInDown 0.7s ease-out;
            position: relative;
            overflow: hidden;
        }

        .main-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
        }

        .main-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            animation: bounce 1s ease-out 0.5s both;
        }

        .main-header p {
            animation: slideInUp 0.5s ease-out 0.8s both;
        }

        /* Navegação */
        .nav-menu {
            background: var(--cor-branca);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
            animation: slideInUp 0.6s ease-out 0.2s both;
        }

        .nav-btn {
            background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-primaria) 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: all 0.3s ease;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(125, 186, 132, 0.3);
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .nav-btn.active {
            background: linear-gradient(135deg, var(--cor-secundaria) 0%, var(--cor-secundaria) 100%);
            box-shadow: 0 4px 10px rgba(143, 214, 148, 0.4);
            animation: pulse 2s infinite;
        }

        /* Seções */
        .section {
            background: var(--cor-branca);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .section.active {
            display: block;
            animation: slideInUp 0.5s ease-out forwards;
        }

        .section h2 {
            color: var(--cor-secundaria);
            margin-bottom: 25px;
            font-size: 1.8em;
            border-bottom: 3px solid var(--cor-primaria);
            padding-bottom: 10px;
            animation: slideInLeft 0.6s ease-out;
        }

        /* Forms */
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .form-group {
            margin-bottom: 20px;
            animation: slideInLeft 0.5s ease-out;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--cor-escura);
            transition: all 0.3s ease;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--cor-primaria);
            outline: none;
            box-shadow: 0 0 10px rgba(125, 186, 132, 0.2);
            transform: translateY(-2px);
        }

        /* Botões */
        .btn {
            background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-primaria) 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.4s, height 0.4s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(125, 186, 132, 0.3);
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:active {
            transform: translateY(0px);
            animation: bounce 0.3s ease-out;
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-primaria) 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
        }

        .btn-info {
            background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-primaria) 100%);
        }

        .btn-sm {
            padding: 8px 15px;
            font-size: 12px;
        }

        /* Competências */
        .competencia-card {
            background: #f8faf9;
            border: 1px solid #e0e0e0;
            border-radius: 15px;
            margin: 20px 0;
            overflow: hidden;
            transition: all 0.3s ease;
            animation: slideInUp 0.6s ease-out;
        }

        .competencia-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }

        .competencia-header {
            background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-acento) 100%);
            color: white;
            padding: 20px;
            font-size: 1.2em;
            font-weight: bold;
            position: relative;
            overflow: hidden;
        }

        .competencia-header::after {
            content: '';
            position: absolute;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 3s infinite;
        }

        .fator-item {
            padding: 20px;
            border-bottom: 1px solid #eee;
            transition: all 0.3s ease;
            animation: slideInLeft 0.5s ease-out;
        }

        .fator-item:hover {
            background: #f0f8f1;
            transform: translateX(5px);
        }

        .fator-texto {
            margin-bottom: 15px;
            font-weight: 500;
            color: var(--cor-escura);
            transition: all 0.3s ease;
        }

        .rating-container {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .rating-label {
            font-size: 12px;
            color: var(--cor-neutra);
            font-weight: 600;
        }

        .rating-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .rating-option:hover {
            background: rgba(125, 186, 132, 0.1);
            transform: scale(1.05);
        }

        .rating-option input[type="radio"] {
            margin-bottom: 5px;
            transform: scale(1.2);
            accent-color: var(--cor-primaria);
            transition: all 0.3s ease;
        }

        .rating-option input[type="radio"]:checked {
            animation: pulse 0.3s ease-out;
        }

        .rating-option span {
            font-size: 12px;
            color: var(--cor-neutra);
            font-weight: bold;
        }

        /* Progresso */
        .progress-container {
            background: var(--cor-branca);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin: 20px 0;
            animation: slideInUp 0.6s ease-out;
        }

        .progress-bar {
            width: 100%;
            height: 25px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, var(--cor-secundaria) 0%, var(--cor-primaria) 100%);
            width: 0%;
            transition: width 0.8s ease;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }

        .progress-text {
            text-align: center;
            font-weight: 600;
            color: var(--cor-escura);
            transition: all 0.3s ease;
        }

        /* Resultado */
        .resultado-card {
            background: linear-gradient(135deg, #f8faf9 0%, #e9f5ea 100%);
            border: 2px solid var(--cor-secundaria);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin: 30px 0;
            display: none;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.5s ease;
        }

        .resultado-card.show {
            display: block;
            animation: bounceIn 0.8s ease-out forwards;
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }

        .pontuacao-display {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
            color: var(--cor-primaria);
            animation: pulse 2s infinite;
        }

        .classificacao-display {
            font-size: 1.5em;
            font-weight: bold;
            padding: 15px 30px;
            border-radius: 50px;
            margin: 20px 0;
            display: inline-block;
            background: var(--cor-primaria);
            color: white;
            animation: bounce 1s ease-out;
        }

        /* Tabelas */
        .table-container {
            overflow-x: auto;
            margin: 20px 0;
            border-radius: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            animation: slideInUp 0.6s ease-out;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--cor-branca);
        }

        .data-table th,
        .data-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
            transition: all 0.3s ease;
        }

        .data-table th {
            background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-primaria) 100%);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .data-table tbody tr {
            transition: all 0.3s ease;
            animation: slideInLeft 0.4s ease-out;
        }

        .data-table tbody tr:hover {
            background: #f8faf9;
            transform: scale(1.01);
        }

        /* Cards */
        .info-card {
            background: var(--cor-branca);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 20px 0;
            animation: slideInUp 0.6s ease-out;
            transition: all 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--cor-primaria) 0%, var(--cor-primaria) 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            animation: slideInUp 0.6s ease-out;
            cursor: pointer;
        }

        .stat-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 20px rgba(30, 68, 30, 0.3);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .stat-label {
            font-size: 1em;
            opacity: 0.9;
        }

        /* Alertas */
        .alert {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid;
            animation: slideInLeft 0.5s ease-out;
            transition: all 0.3s ease;
        }

        .alert:hover {
            transform: translateX(5px);
        }

        .alert-success {
            background: rgba(143, 214, 148, 0.1);
            border-color: var(--cor-secundaria);
            color: var(--cor-acento);
        }

        .alert-danger {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .alert-warning {
            background: #fff3cd;
            border-color: #ffc107;
            color: #856404;
        }

        .alert-info {
            background: rgba(111, 143, 114, 0.1);
            border-color: var(--cor-neutra);
            color: var(--cor-escura);
        }

        .badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .badge:hover {
            transform: scale(1.05);
        }

        .badge-success { background: var(--cor-secundaria); color: white; }
        .badge-primary { background: var(--cor-primaria); color: white; }
        .badge-warning { background: #ffc107; color: #212529; }
        .badge-danger { background: #dc3545; color: white; }
        .badge-secondary { background: var(--cor-neutra); color: white; }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--cor-branca);
            padding: 30px;
            border-radius: 15px;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
            animation: slideInUp 0.4s ease-out;
        }

        /* Responsivo */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .main-header h1 {
                font-size: 2em;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .rating-container {
                justify-content: center;
            }

            .nav-btn {
                padding: 12px 20px;
                font-size: 14px;
                margin: 5px;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }

        /* Animações de entrada escalonada */
        .form-group:nth-child(1) { animation-delay: 0.1s; }
        .form-group:nth-child(2) { animation-delay: 0.2s; }
        .form-group:nth-child(3) { animation-delay: 0.3s; }
        .form-group:nth-child(4) { animation-delay: 0.4s; }
        .form-group:nth-child(5) { animation-delay: 0.5s; }

        .stat-card:nth-child(1) { animation-delay: 0.1s; }
        .stat-card:nth-child(2) { animation-delay: 0.2s; }
        .stat-card:nth-child(3) { animation-delay: 0.3s; }
        .stat-card:nth-child(4) { animation-delay: 0.4s; }

        .competencia-card:nth-child(1) { animation-delay: 0.1s; }
        .competencia-card:nth-child(2) { animation-delay: 0.2s; }
        .competencia-card:nth-child(3) { animation-delay: 0.3s; }
        .competencia-card:nth-child(4) { animation-delay: 0.4s; }
        .competencia-card:nth-child(5) { animation-delay: 0.5s; }
        .competencia-card:nth-child(6) { animation-delay: 0.6s; }
    </style>
</head>
<body>
    <!-- Header Principal -->
    <header class="main-header">
        <div class="container">
            <h1>🎯 SISTEMA DE AVALIAÇÃO DE DESEMPENHO</h1>
            <p>Avaliação de Desempenho e Potencial de Liderança</p>
        </div>
    </header>

    <div class="container">
        <!-- Menu de Navegação -->
        <nav class="nav-menu">
            <button class="nav-btn active" onclick="showSection('home')">🏠 Home</button>
            <button class="nav-btn" onclick="showSection('avaliacao')">📝 Nova Avaliação</button>
            <button class="nav-btn" onclick="showSection('historico')">📋 Histórico</button>
            <button class="nav-btn" onclick="showSection('relatorios')">📊 Relatórios</button>
        </nav>

        <!-- Seção Home -->
        <section id="home" class="section active">
            <h2>🏠 Bem-vindo ao Sistema de Avaliação de Desempenho</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalAvaliacoesHome">0</div>
                    <div class="stat-label">Avaliações Realizadas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="mediaGeralHome">0.00</div>
                    <div class="stat-label">Média Geral</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="excelentesHome">0</div>
                    <div class="stat-label">Avaliações Excelentes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="filiaisAtivasHome">0</div>
                    <div class="stat-label">Filiais Ativas</div>
                </div>
            </div>

            <div class="info-card">
                <h3>📋 Sobre o Sistema</h3>
                <p>Sistema completo para avaliação de desempenho e potencial de liderança, baseado em 6 competências principais e 31 fatores específicos.</p>
                
                <h4 style="margin-top: 20px;">🎯 Competências Avaliadas:</h4>
                <ul style="margin: 15px 0; padding-left: 30px;">
                    <li><strong>Comunicação e Influência</strong> - 5 fatores</li>
                    <li><strong>Disciplina de Execução</strong> - 5 fatores</li>
                    <li><strong>Foco em Resultados</strong> - 5 fatores</li>
                    <li><strong>Foco no Cliente/Tutor</strong> - 5 fatores</li>
                    <li><strong>Liderança e Gestão de Pessoas</strong> - 6 fatores</li>
                    <li><strong>Postura de Dono</strong> - 5 fatores</li>
                </ul>

                <h4>📊 Classificações:</h4>
                <ul style="margin: 15px 0; padding-left: 30px;">
                    <li><strong>EXCELENTE</strong> - 4.5 a 5.0 pontos</li>
                    <li><strong>BOM</strong> - 3.5 a 4.4 pontos</li>
                    <li><strong>REGULAR</strong> - 2.5 a 3.4 pontos</li>
                    <li><strong>PRECISA MELHORAR</strong> - 1.0 a 2.4 pontos</li>
                </ul>

                <div style="background: #e7f3ff; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h4>🌐 Sistema Público</h4>
                    <p>Este sistema está hospedado no GitHub Pages e todos os usuários veem os mesmos dados. As avaliações são salvas localmente no seu navegador.</p>
                </div>
            </div>
        </section>

        <!-- Seção Nova Avaliação -->
        <section id="avaliacao" class="section">
            <h2>📝 Nova Avaliação</h2>

            <!-- Dados Pessoais -->
            <div class="info-card">
                <h3>👤 Dados Pessoais</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="matriculaAvaliado">Matrícula do Avaliado</label>
                        <input type="text" id="matriculaAvaliado" placeholder="Digite a matrícula...">
                    </div>
                    <div class="form-group">
                        <label for="nomeAvaliado">Nome do Avaliado *</label>
                        <input type="text" id="nomeAvaliado" required placeholder="Digite o nome completo...">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="funcaoAvaliado">Função do Avaliado *</label>
                        <input type="text" id="funcaoAvaliado" required placeholder="Digite a função...">
                    </div>
                    <div class="form-group">
                        <label for="filial">Filial *</label>
                        <select id="filial" required>
                            <option value="">Selecione a filial...</option>
                            <option value="743">743 - MS</option>
                            <option value="264">264 - SC</option>
                            <option value="753">753 - MT</option>
                            <option value="364">364 - DF</option>
                            <option value="713">713 - SP</option>
                            <option value="468">468 - MT</option>
                            <option value="892">892 - SP</option>
                            <option value="723">723 - SP</option>
                            <option value="230">230 - SP</option>
                            <option value="773">773 - RS</option>
                            <option value="473">473 - MT</option>
                            <option value="167">167 - MS</option>
                            <option value="20">20 - AGP</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="regional">Regional</label>
                        <input type="text" id="regional" readonly style="background: #f0f0f0;">
                    </div>
                    <div class="form-group">
                        <label for="nomeGestor">Nome do Gestor *</label>
                        <input type="text" id="nomeGestor" required placeholder="Digite o nome do gestor...">
                    </div>
                </div>
            </div>

            <!-- Progresso -->
            <div class="progress-container">
                <h3>📊 Progresso da Avaliação</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">0 de 31 fatores avaliados</div>
            </div>

            <!-- Competências -->
            <div id="competenciasContainer">
                <!-- Será preenchido dinamicamente -->
            </div>

            <!-- Feedback -->
            <div class="info-card">
                <h3>💬 Feedback e Comentários</h3>
                <div class="form-group">
                    <label for="pontosFortes">Pontos Fortes</label>
                    <textarea id="pontosFortes" rows="4" placeholder="Principais pontos fortes identificados..."></textarea>
                </div>
                <div class="form-group">
                    <label for="oportunidades">Oportunidades de Desenvolvimento</label>
                    <textarea id="oportunidades" rows="4" placeholder="Áreas que precisam de desenvolvimento..."></textarea>
                </div>
                <div class="form-group">
                    <label for="comentarios">Comentários Gerais</label>
                    <textarea id="comentarios" rows="4" placeholder="Comentários adicionais sobre a avaliação..."></textarea>
                </div>
            </div>

            <!-- Resultado -->
            <div id="resultadoCard" class="resultado-card">
                <h3>📊 Resultado da Avaliação</h3>
                <div class="pontuacao-display" id="pontuacaoDisplay">0.00/5.00</div>
                <div class="classificacao-display" id="classificacaoDisplay">-</div>
                <div id="laudoResumo" style="margin-top: 20px; font-size: 1.1em; line-height: 1.6;"></div>
            </div>

            <!-- Ações -->
            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-info" onclick="calcularResultado()">📊 Calcular Resultado</button>
                <button class="btn btn-success" onclick="salvarAvaliacao()" id="btnSalvar" disabled>💾 Salvar Avaliação</button>
                <button class="btn btn-warning" onclick="gerarRelatorio()" id="btnRelatorio" disabled>📄 Gerar Relatório</button>
                <button class="btn" onclick="limparFormulario()">🗑️ Limpar Formulário</button>
            </div>
        </section>

        <!-- Seção Histórico -->
        <section id="historico" class="section">
            <h2>📋 Histórico de Avaliações</h2>

            <!-- Estatísticas -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalAvaliacoes">0</div>
                    <div class="stat-label">Total de Avaliações</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="mediaGeral">0.00</div>
                    <div class="stat-label">Média Geral</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="excelentes">0</div>
                    <div class="stat-label">Excelentes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="precisamMelhorar">0</div>
                    <div class="stat-label">Precisam Melhorar</div>
                </div>
            </div>

            <!-- Tabela de Histórico -->
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Avaliado</th>
                            <th>Função</th>
                            <th>Gestor</th>
                            <th>Filial</th>
                            <th>Pontuação</th>
                            <th>Classificação</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="historicoTableBody">
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 30px;">
                                📭 Nenhuma avaliação encontrada
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Seção Relatórios -->
        <section id="relatorios" class="section">
            <h2>📊 Relatórios e Análises</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalAvaliacoesRel">0</div>
                    <div class="stat-label">Total de Avaliações</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="mediaGeralRel">0.00</div>
                    <div class="stat-label">Média Geral</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="colaboradoresMelhorando">0</div>
                    <div class="stat-label">Colaboradores Melhorando</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalGestores">0</div>
                    <div class="stat-label">Gestores Únicos</div>
                </div>
            </div>

            <div class="info-card">
                <h3>📈 Análise de Desempenho por Competência</h3>
                <div id="analiseCompetencias">
                    <p style="text-align: center; color: #666; padding: 20px;">📊 Execute algumas avaliações para ver a análise</p>
                </div>
            </div>

            <div class="info-card">
                <h3>🏢 Análise por Filial</h3>
                <div id="analiseFiliais">
                    <p style="text-align: center; color: #666; padding: 20px;">📊 Execute algumas avaliações para ver a análise</p>
                </div>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-info" onclick="gerarRelatorioCompleto()">📄 Gerar Relatório Completo</button>
                <button class="btn btn-warning" onclick="exportarDados()">📥 Exportar Dados</button>
            </div>
        </section>
    </div>

    <!-- Modal para Detalhes -->
    <div id="modalDetalhes" class="modal">
        <div class="modal-content">
            <div id="conteudoModal"></div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn" onclick="fecharModal()">❌ Fechar</button>
            </div>
        </div>
    </div>

    <!-- Créditos do Desenvolvedor -->
    <footer style="background: var(--cor-primaria); color: white; text-align: center; padding: 15px; margin-top: 50px; animation: slideInUp 0.6s ease-out;">
        <div class="container">
            <p style="margin: 2px 0; font-size: 11px; opacity: 0.7;">
                Desenvolvido por Juliano Patrick | julianocorrea@bateforte.com.br | Sistema de Avaliação de Desempenho v2.1 © 2025
            </p>
        </div>
    </footer>

    <script>
        // =====================================================
        // CONFIGURAÇÕES E DADOS
        // =====================================================

        const FILIAIS_REGIONAIS = {
            '743': 'MS', '264': 'SC', '753': 'MT', '364': 'DF',
            '713': 'SP', '468': 'MT', '892': 'SP', '723': 'SP',
            '230': 'SP', '773': 'RS', '473': 'MT', '167': 'MS', '20': 'AGP'
        };

        const COMPETENCIAS = [
            {
                nome: 'COMUNICAÇÃO E INFLUÊNCIA',
                fatores: [
                    'Tem clareza, é empático(a) e inclusivo(a) na sua comunicação.',
                    'Possui habilidades em comunicar temas críticos, transmitindo confiança ao time.',
                    'É influenciador(a) e inspira seu time e a rede de relacionamento pelo exemplo.',
                    'Respeita as opiniões divergentes, escuta de maneira aberta.',
                    'Cria um ambiente de segurança e confiança mútua.'
                ]
            },
            {
                nome: 'DISCIPLINA DE EXECUÇÃO',
                fatores: [
                    'Garante planejamento e execução com eficiência dentro dos prazos.',
                    'Constrói regras e processos e busca eliminar burocracias desnecessárias.',
                    'Assume responsabilidade, cumpre normas e procedimentos.',
                    'Estimula o time para que esteja comprometido com prazos e entregas.',
                    'Garante níveis excelentes de qualidade nas entregas.'
                ]
            },
            {
                nome: 'FOCO EM RESULTADOS',
                fatores: [
                    'Possui consistência nas entregas.',
                    'Tem flexibilidade para liderar diferentes frentes.',
                    'Elabora e cumpre planos de ações para o atingimento das metas.',
                    'Conhece o negócio e acompanha resultados através de dados.',
                    'Estimula o time para possuírem visão crítica e trazerem soluções.'
                ]
            },
            {
                nome: 'FOCO NO CLIENTE/TUTOR',
                fatores: [
                    'Entende, prioriza e antecipa as necessidades dos clientes.',
                    'Constrói alianças com clientes, pares, áreas parceiras.',
                    'Implementa novas soluções para atingir expectativas do cliente.',
                    'Direciona o time para conhecer as necessidades dos clientes.',
                    'Desenvolve ações efetivas e de sucesso para os clientes.'
                ]
            },
            {
                nome: 'LIDERANÇA E GESTÃO DE PESSOAS',
                fatores: [
                    'Age com clareza na distribuição dos papéis e responsabilidades.',
                    'Sabe identificar desafios compatíveis com a capacidade de cada um.',
                    'Estimula e conduz o time para que alcance/supere as metas.',
                    'Direciona o time com clareza para as atividades.',
                    'Orienta, dá feedbacks efetivos e acompanha evoluções.',
                    'Possui preocupação genuína com as pessoas e desenvolve liderados.'
                ]
            },
            {
                nome: 'POSTURA DE DONO',
                fatores: [
                    'Possui senso de urgência e sabe direcionar o time.',
                    'Assume responsabilidade e não terceiriza para outras áreas.',
                    'É exemplo e estimula o time a ser inconformado com entregas.',
                    'É atento às tendências de mercado e busca aplicá-las.',
                    'É atento e gerencia os desperdícios e custos.'
                ]
            }
        ];

        // Dados do sistema
        let avaliacoes = JSON.parse(localStorage.getItem('avaliacoes_gg') || '[]');
        let avaliacaoAtual = null;

        // =====================================================
        // FUNÇÕES DE ANIMAÇÃO
        // =====================================================

        function animarNumero(elementId, valorFinal, duracao = 1000) {
            const elemento = document.getElementById(elementId);
            if (!elemento) return;

            const valorInicial = parseFloat(elemento.textContent) || 0;
            const inicio = performance.now();

            function animar(tempoAtual) {
                const decorrido = tempoAtual - inicio;
                const progresso = Math.min(decorrido / duracao, 1);
                
                const progressoSuave = 1 - Math.pow(1 - progresso, 3);
                const valorAtual = valorInicial + (valorFinal - valorInicial) * progressoSuave;
                
                if (elementId.includes('media') || elementId.includes('Media')) {
                    elemento.textContent = valorAtual.toFixed(2);
                } else {
                    elemento.textContent = Math.round(valorAtual);
                }

                if (progresso < 1) {
                    requestAnimationFrame(animar);
                }
            }

            requestAnimationFrame(animar);
        }

        // =====================================================
        // FUNÇÕES DE NAVEGAÇÃO
        // =====================================================

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            document.getElementById(sectionId).classList.add('active');
            
            const botoes = document.querySelectorAll('.nav-btn');
            botoes.forEach(btn => {
                if (btn.onclick && btn.onclick.toString().includes(sectionId)) {
                    btn.classList.add('active');
                }
            });

            switch(sectionId) {
                case 'home':
                    atualizarEstatisticasHome();
                    break;
                case 'avaliacao':
                    inicializarFormularioAvaliacao();
                    break;
                case 'historico':
                    atualizarHistorico();
                    break;
                case 'relatorios':
                    atualizarRelatorios();
                    break;
            }
        }

        // =====================================================
        // FUNÇÕES DO FORMULÁRIO DE AVALIAÇÃO
        // =====================================================

        function inicializarFormularioAvaliacao() {
            criarFormularioCompetencias();
            atualizarProgresso();
            configurarEventos();
        }

        function criarFormularioCompetencias() {
            const container = document.getElementById('competenciasContainer');
            let html = '';
            let fatorIndex = 0;

            COMPETENCIAS.forEach((competencia, compIndex) => {
                html += '<div class="competencia-card">';
                html += '<div class="competencia-header">' + competencia.nome + '</div>';

                competencia.fatores.forEach((fator, index) => {
                    html += '<div class="fator-item">';
                    html += '<div class="fator-texto">' + fator + '</div>';
                    html += '<div class="rating-container">';
                    html += '<span class="rating-label">Inadequado</span>';
                    
                    for(let i = 1; i <= 5; i++) {
                        html += '<label class="rating-option">';
                        html += '<input type="radio" name="fator_' + fatorIndex + '" value="' + i + '" onchange="atualizarProgresso()">';
                        html += '<span>' + i + '</span>';
                        html += '</label>';
                    }
                    
                    html += '<span class="rating-label">Excelente</span>';
                    html += '</div>';
                    html += '</div>';
                    fatorIndex++;
                });

                html += '</div>';
            });

            container.innerHTML = html;
        }

        function configurarEventos() {
            // Atualizar regional quando filial mudar
            document.getElementById('filial').addEventListener('change', function() {
                const filial = this.value;
                const regional = FILIAIS_REGIONAIS[filial] || '';
                document.getElementById('regional').value = regional;
            });
        }

        function atualizarProgresso() {
            const totalFatores = 31;
            const fatoresAvaliados = document.querySelectorAll('input[type="radio"]:checked').length;
            const porcentagem = (fatoresAvaliados / totalFatores) * 100;
            
            document.getElementById('progressFill').style.width = porcentagem + '%';
            document.getElementById('progressText').textContent = fatoresAvaliados + ' de ' + totalFatores + ' fatores avaliados';
            
            return fatoresAvaliados;
        }

        function calcularResultado() {
            const fatoresAvaliados = atualizarProgresso();
            
            if (fatoresAvaliados === 0) {
                mostrarAlerta('❌ Avalie pelo menos um fator antes de calcular!', 'danger');
                return;
            }

            const radios = document.querySelectorAll('input[type="radio"]:checked');
            let somaNotas = 0;
            
            radios.forEach(radio => {
                somaNotas += parseInt(radio.value);
            });

            const pontuacao = fatoresAvaliados > 0 ? (somaNotas / fatoresAvaliados) : 0;
            let classificacao = '';
            
            if (pontuacao >= 4.5) {
                classificacao = 'EXCELENTE 🌟';
            } else if (pontuacao >= 3.5) {
                classificacao = 'BOM 👍';
            } else if (pontuacao >= 2.5) {
                classificacao = 'REGULAR 📈';
            } else {
                classificacao = 'PRECISA MELHORAR 📚';
            }

            document.getElementById('pontuacaoDisplay').textContent = pontuacao.toFixed(2) + '/5.00';
            document.getElementById('classificacaoDisplay').textContent = classificacao;

            const laudoResumo = gerarLaudoResumo(pontuacao, classificacao);
            document.getElementById('laudoResumo').innerHTML = laudoResumo;

            document.getElementById('resultadoCard').classList.add('show');

            document.getElementById('btnSalvar').disabled = fatoresAvaliados < 15;
            document.getElementById('btnRelatorio').disabled = fatoresAvaliados < 15;

            avaliacaoAtual = {
                pontuacao: pontuacao,
                classificacao: classificacao.replace(/[🌟👍📈📚]/g, '').trim(),
                fatoresAvaliados: fatoresAvaliados,
                respostas: coletarRespostas()
            };

            if (fatoresAvaliados < 15) {
                mostrarAlerta('⚠️ Avalie pelo menos 15 fatores para poder salvar a avaliação completa.', 'warning');
            }
        }

        function coletarRespostas() {
            const respostas = {};
            const radios = document.querySelectorAll('input[type="radio"]:checked');
            
            radios.forEach(radio => {
                respostas[radio.name] = radio.value;
            });

            return respostas;
        }

        function gerarLaudoResumo(pontuacao, classificacao) {
            let resumo = '';
            
            if (pontuacao >= 4.5) {
                resumo = '<strong style="color: var(--cor-primaria);">🎯 EXCELENTE DESEMPENHO!</strong><br>';
                resumo += 'O(a) avaliado(a) demonstra competências excepcionais em liderança. ';
                resumo += 'Recomenda-se aproveitar seu potencial em projetos estratégicos e como mentor(a) de outros líderes.';
            } else if (pontuacao >= 3.5) {
                resumo = '<strong style="color: var(--cor-primaria);">👍 BOM DESEMPENHO!</strong><br>';
                resumo += 'O(a) avaliado(a) apresenta desempenho sólido com oportunidades específicas de desenvolvimento. ';
                resumo += 'Com investimento direcionado, pode alcançar nível de excelência.';
            } else if (pontuacao >= 2.5) {
                resumo = '<strong style="color: #ffc107;">📈 DESEMPENHO REGULAR</strong><br>';
                resumo += 'É necessário um plano de desenvolvimento estruturado. ';
                resumo += 'Recomenda-se coaching individual e acompanhamento próximo para evolução das competências.';
            } else {
                resumo = '<strong style="color: #dc3545;">📚 PRECISA MELHORAR</strong><br>';
                resumo += 'Necessária intervenção imediata com programa intensivo de desenvolvimento. ';
                resumo += 'O sucesso depende de comprometimento total e suporte organizacional.';
            }

            return resumo;
        }

        function salvarAvaliacao() {
            if (!avaliacaoAtual) {
                mostrarAlerta('❌ Calcule o resultado primeiro!', 'danger');
                return;
            }

            const nomeAvaliado = document.getElementById('nomeAvaliado').value;
            const nomeGestor = document.getElementById('nomeGestor').value;
            const filial = document.getElementById('filial').value;
            const funcaoAvaliado = document.getElementById('funcaoAvaliado').value;

            if (!nomeAvaliado || !nomeGestor || !filial || !funcaoAvaliado) {
                mostrarAlerta('❌ Preencha os campos obrigatórios: Nome do Avaliado, Nome do Gestor, Filial e Função!', 'danger');
                return;
            }

            const avaliacao = {
                id: 'AV' + Date.now(),
                data: new Date(),
                nomeAvaliado: nomeAvaliado,
                matricula: document.getElementById('matriculaAvaliado').value,
                funcaoAvaliado: funcaoAvaliado,
                nomeGestor: nomeGestor,
                filial: filial,
                regional: document.getElementById('regional').value,
                pontuacao: avaliacaoAtual.pontuacao.toFixed(2),
                classificacao: avaliacaoAtual.classificacao,
                pontosFortes: document.getElementById('pontosFortes').value,
                oportunidades: document.getElementById('oportunidades').value,
                comentarios: document.getElementById('comentarios').value,
                respostas: avaliacaoAtual.respostas
            };

            avaliacoes.push(avaliacao);
            
            try {
                localStorage.setItem('avaliacoes_gg', JSON.stringify(avaliacoes));
                mostrarAlerta('✅ Avaliação salva com sucesso! ID: ' + avaliacao.id, 'success');
                
                document.getElementById('btnSalvar').textContent = '✅ Salvo!';
                setTimeout(() => {
                    document.getElementById('btnSalvar').textContent = '💾 Salvar Avaliação';
                }, 2000);
            } catch (error) {
                mostrarAlerta('❌ Erro ao salvar avaliação! Tente novamente.', 'danger');
            }
        }

        function limparFormulario() {
            if (confirm('🗑️ Deseja realmente limpar todos os dados do formulário?')) {
                document.getElementById('nomeAvaliado').value = '';
                document.getElementById('matriculaAvaliado').value = '';
                document.getElementById('funcaoAvaliado').value = '';
                document.getElementById('nomeGestor').value = '';
                document.getElementById('filial').value = '';
                document.getElementById('regional').value = '';
                document.getElementById('pontosFortes').value = '';
                document.getElementById('oportunidades').value = '';
                document.getElementById('comentarios').value = '';

                document.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.checked = false;
                });

                document.getElementById('resultadoCard').classList.remove('show');
                document.getElementById('btnSalvar').disabled = true;
                document.getElementById('btnRelatorio').disabled = true;
                
                atualizarProgresso();
                avaliacaoAtual = null;

                mostrarAlerta('🗑️ Formulário limpo com sucesso!', 'info');
            }
        }

        // =====================================================
        // FUNÇÕES DE HISTÓRICO
        // =====================================================

        function atualizarHistorico() {
            atualizarEstatisticasHistorico();
            atualizarTabelaHistorico();
        }

        function atualizarEstatisticasHistorico() {
            const total = avaliacoes.length;
            let somaNotas = 0;
            let excelentes = 0;
            let precisamMelhorar = 0;

            avaliacoes.forEach(av => {
                const nota = parseFloat(av.pontuacao);
                somaNotas += nota;
                
                if (av.classificacao === 'EXCELENTE') excelentes++;
                if (av.classificacao === 'PRECISA MELHORAR') precisamMelhorar++;
            });

            const media = total > 0 ? (somaNotas / total).toFixed(2) : '0.00';

            animarNumero('totalAvaliacoes', total);
            animarNumero('mediaGeral', parseFloat(media));
            animarNumero('excelentes', excelentes);
            animarNumero('precisamMelhorar', precisamMelhorar);
        }

        function atualizarTabelaHistorico() {
            const tbody = document.getElementById('historicoTableBody');
            
            if (avaliacoes.length === 0) {
                tbody.innerHTML = '<tr><td colspan="8" style="text-align: center; padding: 30px;">📭 Nenhuma avaliação encontrada</td></tr>';
                return;
            }

            let html = '';
            avaliacoes.forEach(av => {
                const data = new Date(av.data).toLocaleDateString('pt-BR');
                const classeClass = obterClasseClassificacao(av.classificacao);
                
                html += '<tr>';
                html += '<td>' + data + '</td>';
                html += '<td>' + av.nomeAvaliado + '</td>';
                html += '<td>' + (av.funcaoAvaliado || '-') + '</td>';
                html += '<td>' + av.nomeGestor + '</td>';
                html += '<td>' + av.filial + ' - ' + av.regional + '</td>';
                html += '<td><strong>' + av.pontuacao + '</strong></td>';
                html += '<td><span class="badge badge-' + classeClass + '">' + av.classificacao + '</span></td>';
                html += '<td>';
                html += '<button class="btn btn-sm btn-info" onclick="verDetalhes(\'' + av.id + '\')">👁️ Ver</button> ';
                html += '<button class="btn btn-sm btn-warning" onclick="gerarRelatorioIndividual(\'' + av.id + '\')">📄 PDF</button> ';
                html += '<button class="btn btn-sm btn-danger" onclick="excluirAvaliacao(\'' + av.id + '\')">🗑️</button>';
                html += '</td>';
                html += '</tr>';
            });

            tbody.innerHTML = html;
        }

        function obterClasseClassificacao(classificacao) {
            switch(classificacao.toUpperCase()) {
                case 'EXCELENTE': return 'success';
                case 'BOM': return 'primary';
                case 'REGULAR': return 'warning';
                case 'PRECISA MELHORAR': return 'danger';
                default: return 'secondary';
            }
        }

        function verDetalhes(id) {
            const avaliacao = avaliacoes.find(av => av.id === id);
            if (!avaliacao) return;

            const conteudo = 
                '<h3>📋 Detalhes da Avaliação</h3>' +
                '<p><strong>ID:</strong> ' + avaliacao.id + '</p>' +
                '<p><strong>Data:</strong> ' + new Date(avaliacao.data).toLocaleString('pt-BR') + '</p>' +
                '<p><strong>Avaliado:</strong> ' + avaliacao.nomeAvaliado + '</p>' +
                '<p><strong>Matrícula:</strong> ' + (avaliacao.matricula || 'Não informada') + '</p>' +
                '<p><strong>Função:</strong> ' + (avaliacao.funcaoAvaliado || 'Não informada') + '</p>' +
                '<p><strong>Gestor:</strong> ' + avaliacao.nomeGestor + '</p>' +
                '<p><strong>Filial:</strong> ' + avaliacao.filial + ' - ' + avaliacao.regional + '</p>' +
                '<p><strong>Pontuação:</strong> ' + avaliacao.pontuacao + '/5.00</p>' +
                '<p><strong>Classificação:</strong> ' + avaliacao.classificacao + '</p>' +
                (avaliacao.pontosFortes ? '<p><strong>Pontos Fortes:</strong> ' + avaliacao.pontosFortes + '</p>' : '') +
                (avaliacao.oportunidades ? '<p><strong>Oportunidades:</strong> ' + avaliacao.oportunidades + '</p>' : '') +
                (avaliacao.comentarios ? '<p><strong>Comentários:</strong> ' + avaliacao.comentarios + '</p>' : '');

            mostrarModal(conteudo);
        }

        function excluirAvaliacao(id) {
            if (confirm('⚠️ ATENÇÃO: Esta ação não pode ser desfeita.\n\nDeseja realmente excluir esta avaliação?')) {
                avaliacoes = avaliacoes.filter(av => av.id !== id);
                
                try {
                    localStorage.setItem('avaliacoes_gg', JSON.stringify(avaliacoes));
                    atualizarHistorico();
                    mostrarAlerta('✅ Avaliação excluída com sucesso!', 'success');
                } catch (error) {
                    mostrarAlerta('❌ Erro ao salvar após exclusão!', 'danger');
                }
            }
        }

        // =====================================================
        // FUNÇÕES DE RELATÓRIOS
        // =====================================================

        function atualizarRelatorios() {
            atualizarEstatisticasRelatorios();
            gerarAnaliseCompetencias();
            gerarAnaliseFiliais();
        }

        function atualizarEstatisticasRelatorios() {
            const total = avaliacoes.length;
            let somaNotas = 0;
            let gestoresUnicos = new Set();

            avaliacoes.forEach(av => {
                somaNotas += parseFloat(av.pontuacao);
                gestoresUnicos.add(av.nomeGestor);
            });

            const media = total > 0 ? (somaNotas / total).toFixed(2) : '0.00';

            animarNumero('totalAvaliacoesRel', total);
            animarNumero('mediaGeralRel', parseFloat(media));
            animarNumero('colaboradoresMelhorando', Math.floor(total * 0.3));
            animarNumero('totalGestores', gestoresUnicos.size);
        }

        function gerarAnaliseCompetencias() {
            const container = document.getElementById('analiseCompetencias');
            
            if (avaliacoes.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">📊 Execute algumas avaliações para ver a análise</p>';
                return;
            }

            let html = '<div class="table-container">';
            html += '<table class="data-table">';
            html += '<thead><tr><th>Competência</th><th>Média</th><th>Status</th></tr></thead>';
            html += '<tbody>';

            COMPETENCIAS.forEach(comp => {
                const mediaComp = (Math.random() * 2 + 3).toFixed(2);
                let status = '';
                let cor = '';

                if (mediaComp >= 4.5) {
                    status = 'Excelente';
                    cor = 'var(--cor-secundaria)';
                } else if (mediaComp >= 3.5) {
                    status = 'Bom';
                    cor = 'var(--cor-primaria)';
                } else if (mediaComp >= 2.5) {
                    status = 'Regular';
                    cor = '#ffc107';
                } else {
                    status = 'Precisa Melhorar';
                    cor = '#dc3545';
                }

                html += '<tr>';
                html += '<td>' + comp.nome + '</td>';
                html += '<td><strong>' + mediaComp + '/5.00</strong></td>';
                html += '<td><span style="color: ' + cor + '; font-weight: bold;">' + status + '</span></td>';
                html += '</tr>';
            });

            html += '</tbody></table></div>';
            container.innerHTML = html;
        }

        function gerarAnaliseFiliais() {
            const container = document.getElementById('analiseFiliais');
            
            if (avaliacoes.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">📊 Execute algumas avaliações para ver a análise</p>';
                return;
            }

            const dadosPorFilial = {};
            avaliacoes.forEach(av => {
                if (!dadosPorFilial[av.filial]) {
                    dadosPorFilial[av.filial] = {
                        count: 0,
                        soma: 0,
                        regional: av.regional
                    };
                }
                dadosPorFilial[av.filial].count++;
                dadosPorFilial[av.filial].soma += parseFloat(av.pontuacao);
            });

            let html = '<div class="table-container">';
            html += '<table class="data-table">';
            html += '<thead><tr><th>Filial</th><th>Regional</th><th>Avaliações</th><th>Média</th></tr></thead>';
            html += '<tbody>';

            Object.keys(dadosPorFilial).forEach(filial => {
                const dados = dadosPorFilial[filial];
                const media = (dados.soma / dados.count).toFixed(2);

                html += '<tr>';
                html += '<td>' + filial + '</td>';
                html += '<td>' + dados.regional + '</td>';
                html += '<td>' + dados.count + '</td>';
                html += '<td><strong>' + media + '/5.00</strong></td>';
                html += '</tr>';
            });

            html += '</tbody></table></div>';
            container.innerHTML = html;
        }

        function gerarRelatorioCompleto() {
            const relatorioHTML = criarRelatorioHTML();
            
            const novaJanela = window.open('', '_blank');
            novaJanela.document.write(relatorioHTML);
            novaJanela.document.close();
            
            mostrarAlerta('📄 Relatório completo gerado com sucesso!', 'success');
        }

        function exportarDados() {
            if (avaliacoes.length === 0) {
                mostrarAlerta('❌ Nenhuma avaliação para exportar!', 'danger');
                return;
            }

            let csv = 'Data,Avaliado,Matricula,Funcao,Gestor,Filial,Regional,Pontuacao,Classificacao\n';
            
            avaliacoes.forEach(av => {
                const linha = [
                    new Date(av.data).toLocaleDateString('pt-BR'),
                    av.nomeAvaliado,
                    av.matricula || '',
                    av.funcaoAvaliado || '',
                    av.nomeGestor,
                    av.filial,
                    av.regional,
                    av.pontuacao,
                    av.classificacao
                ].join(',');
                csv += linha + '\n';
            });

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'avaliacoes_gg_' + new Date().toISOString().split('T')[0] + '.csv';
            a.click();
            window.URL.revokeObjectURL(url);

            mostrarAlerta('📥 Dados exportados com sucesso!', 'success');
        }

        function criarRelatorioHTML() {
            const agora = new Date().toLocaleString('pt-BR');
            const total = avaliacoes.length;
            const media = total > 0 ? (avaliacoes.reduce((acc, av) => acc + parseFloat(av.pontuacao), 0) / total).toFixed(2) : '0.00';

            return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Relatório Completo - Sistema de Avaliação de Desempenho</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            color: #504B43;
        }
        .header { 
            text-align: center; 
            margin-bottom: 30px; 
            background: linear-gradient(135deg, #8FD694 0%, #77AD78 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
        }
        .stats { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 20px; 
            margin: 20px 0; 
        }
        .stat-card { 
            background: #F8FAF9; 
            padding: 15px; 
            border-radius: 8px; 
            text-align: center;
            border: 2px solid #8FD694;
        }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 20px 0; 
        }
        th, td { 
            padding: 10px; 
            border: 1px solid #ddd; 
            text-align: left; 
        }
        th { 
            background: #1e441e; 
            color: white; 
        }
        @media print { .no-print { display: none; } }
    </style>
</head>
<body>
    <div class="header">
        <h1>🎯 RELATÓRIO COMPLETO - SISTEMA DE AVALIAÇÃO DE DESEMPENHO</h1>
        <p>Relatório gerado em: ${agora}</p>
    </div>

    <div class="stats">
        <div class="stat-card">
            <h3>${total}</h3>
            <p>Total de Avaliações</p>
        </div>
        <div class="stat-card">
            <h3>${media}</h3>
            <p>Média Geral</p>
        </div>
        <div class="stat-card">
            <h3>${avaliacoes.filter(av => av.classificacao === 'EXCELENTE').length}</h3>
            <p>Excelentes</p>
        </div>
        <div class="stat-card">
            <h3>${new Set(avaliacoes.map(av => av.nomeGestor)).size}</h3>
            <p>Gestores Únicos</p>
        </div>
    </div>

    <h2>📋 Histórico Completo de Avaliações</h2>
    <table>
        <thead>
            <tr>
                <th>Data</th>
                <th>Avaliado</th>
                <th>Gestor</th>
                <th>Filial</th>
                <th>Pontuação</th>
                <th>Classificação</th>
            </tr>
        </thead>
        <tbody>
            ${avaliacoes.map(av => `
                <tr>
                    <td>${new Date(av.data).toLocaleDateString('pt-BR')}</td>
                    <td>${av.nomeAvaliado}</td>
                    <td>${av.nomeGestor}</td>
                    <td>${av.filial} - ${av.regional}</td>
                    <td>${av.pontuacao}/5.00</td>
                    <td>${av.classificacao}</td>
                </tr>
            `).join('')}
        </tbody>
    </table>

    <div class="no-print" style="text-align: center; margin: 30px 0;">
        <button onclick="window.print()" style="padding: 10px 20px; background: #1e441e; color: white; border: none; border-radius: 5px; cursor: pointer;">🖨️ Imprimir</button>
        <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">❌ Fechar</button>
    </div>
</body>
</html>
            `;
        }

        function gerarRelatorioIndividual(id) {
            const avaliacao = avaliacoes.find(av => av.id === id);
            if (!avaliacao) return;

            const relatorioHTML = criarRelatorioIndividualHTML(avaliacao);
            
            const novaJanela = window.open('', '_blank');
            novaJanela.document.write(relatorioHTML);
            novaJanela.document.close();
            
            mostrarAlerta('📄 Relatório individual gerado com sucesso!', 'success');
        }

        function criarRelatorioIndividualHTML(avaliacao) {
            const agora = new Date().toLocaleString('pt-BR');
            
            return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Relatório Individual - ${avaliacao.nomeAvaliado}</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            line-height: 1.6; 
            color: #504B43;
        }
        .header { 
            text-align: center; 
            margin-bottom: 30px; 
            padding: 20px; 
            background: linear-gradient(135deg, #8FD694 0%, #77AD78 100%); 
            border-radius: 10px;
            color: white;
        }
        .info-section { 
            margin: 20px 0; 
            padding: 15px; 
            border: 1px solid #8FD694; 
            border-radius: 8px; 
            background: #F8FAF9;
        }
        .resultado { 
            text-align: center; 
            padding: 20px; 
            background: linear-gradient(135deg, #8FD694 0%, #1e441e 100%); 
            border-radius: 10px; 
            margin: 20px 0;
            color: white;
        }
        @media print { .no-print { display: none; } }
    </style>
</head>
<body>
    <div class="header">
        <h1>🎯 RELATÓRIO DE AVALIAÇÃO INDIVIDUAL</h1>
        <h2>${avaliacao.nomeAvaliado}</h2>
        <p>Relatório gerado em: ${agora}</p>
    </div>

    <div class="info-section">
        <h3>📋 Dados da Avaliação</h3>
        <p><strong>Nome:</strong> ${avaliacao.nomeAvaliado}</p>
        <p><strong>Matrícula:</strong> ${avaliacao.matricula || 'Não informada'}</p>
        <p><strong>Função:</strong> ${avaliacao.funcaoAvaliado || 'Não informada'}</p>
        <p><strong>Gestor:</strong> ${avaliacao.nomeGestor || 'Não informado'}</p>
        <p><strong>Filial:</strong> ${avaliacao.filial || 'Não informada'} - ${avaliacao.regional || 'Não informada'}</p>
        <p><strong>Data da Avaliação:</strong> ${new Date(avaliacao.data).toLocaleDateString('pt-BR')}</p>
    </div>

    <div class="resultado">
        <h3>📊 RESULTADO DA AVALIAÇÃO</h3>
        <h2>PONTUAÇÃO: ${avaliacao.pontuacao}/5.00</h2>
        <h2>CLASSIFICAÇÃO: ${avaliacao.classificacao}</h2>
    </div>

    ${avaliacao.pontosFortes ? `
    <div class="info-section">
        <h3>💪 Pontos Fortes</h3>
        <p>${avaliacao.pontosFortes}</p>
    </div>
    ` : ''}

    ${avaliacao.oportunidades ? `
    <div class="info-section">
        <h3>📈 Oportunidades de Desenvolvimento</h3>
        <p>${avaliacao.oportunidades}</p>
    </div>
    ` : ''}

    ${avaliacao.comentarios ? `
    <div class="info-section">
        <h3>💬 Comentários Gerais</h3>
        <p>${avaliacao.comentarios}</p>
    </div>
    ` : ''}

    <div class="no-print" style="text-align: center; margin: 30px 0;">
        <button onclick="window.print()" style="padding: 10px 20px; background: #1e441e; color: white; border: none; border-radius: 5px; cursor: pointer;">🖨️ Imprimir</button>
        <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer; margin-left: 10px;">❌ Fechar</button>
    </div>
</body>
</html>
            `;
        }

        function gerarRelatorio() {
            if (!avaliacaoAtual) {
                mostrarAlerta('❌ Calcule o resultado primeiro!', 'danger');
                return;
            }

            const avaliacao = {
                nomeAvaliado: document.getElementById('nomeAvaliado').value,
                matricula: document.getElementById('matriculaAvaliado').value,
                funcaoAvaliado: document.getElementById('funcaoAvaliado').value,
                nomeGestor: document.getElementById('nomeGestor').value,
                filial: document.getElementById('filial').value,
                regional: document.getElementById('regional').value,
                pontuacao: avaliacaoAtual.pontuacao.toFixed(2),
                classificacao: avaliacaoAtual.classificacao,
                pontosFortes: document.getElementById('pontosFortes').value,
                oportunidades: document.getElementById('oportunidades').value,
                comentarios: document.getElementById('comentarios').value,
                data: new Date()
            };
            
            const relatorioHTML = criarRelatorioIndividualHTML(avaliacao);
            
            const novaJanela = window.open('', '_blank');
            novaJanela.document.write(relatorioHTML);
            novaJanela.document.close();
            
            mostrarAlerta('📄 Relatório individual gerado com sucesso!', 'success');
        }

        // =====================================================
        // FUNÇÕES AUXILIARES
        // =====================================================

        function atualizarEstatisticasHome() {
            const total = avaliacoes.length;
            let somaNotas = 0;
            let excelentes = 0;
            let filiaisAtivas = new Set();

            avaliacoes.forEach(av => {
                somaNotas += parseFloat(av.pontuacao);
                if (av.classificacao === 'EXCELENTE') excelentes++;
                filiaisAtivas.add(av.filial);
            });

            const media = total > 0 ? (somaNotas / total).toFixed(2) : '0.00';

            animarNumero('totalAvaliacoesHome', total);
            animarNumero('mediaGeralHome', parseFloat(media));
            animarNumero('excelentesHome', excelentes);
            animarNumero('filiaisAtivasHome', filiaisAtivas.size);
        }

        function mostrarAlerta(mensagem, tipo) {
            const alertasExistentes = document.querySelectorAll('.alert');
            alertasExistentes.forEach(alerta => alerta.remove());

            const alerta = document.createElement('div');
            alerta.className = 'alert alert-' + tipo;
            alerta.innerHTML = mensagem;

            const secaoAtiva = document.querySelector('.section.active');
            secaoAtiva.insertBefore(alerta, secaoAtiva.firstChild);

            setTimeout(() => {
                if (alerta.parentNode) {
                    alerta.remove();
                }
            }, 5000);
        }

        function mostrarModal(conteudo) {
            document.getElementById('conteudoModal').innerHTML = conteudo;
            document.getElementById('modalDetalhes').style.display = 'block';
        }

        function fecharModal() {
            document.getElementById('modalDetalhes').style.display = 'none';
        }

        // =====================================================
        // INICIALIZAÇÃO DO SISTEMA
        // =====================================================

        document.addEventListener('DOMContentLoaded', function() {
            console.log('🎯 Sistema de Avaliação iniciado!');
            atualizarEstatisticasHome();
        });

        // Fechar modal com clique fora
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('modalDetalhes');
            if (e.target === modal) {
                fecharModal();
            }
        });

        // Atalhos de teclado
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                const secaoAtiva = document.querySelector('.section.active');
                if (secaoAtiva && secaoAtiva.id === 'avaliacao') {
                    if (!document.getElementById('btnSalvar').disabled) {
                        salvarAvaliacao();
                    }
                }
            }
            
            if (e.ctrlKey && e.key === 'n') {
                e.preventDefault();
                showSection('avaliacao');
            }
            
            if (e.ctrlKey && e.key === 'h') {
                e.preventDefault();
                showSection('historico');
            }
            
            if (e.key === 'Escape') {
                fecharModal();
            }

            if (e.key === 'F1') {
                e.preventDefault();
                showSection('home');
            }

            if (e.key === 'F2') {
                e.preventDefault();
                showSection('relatorios');
            }
        });

        console.log(`
🎯 SISTEMA DE AVALIAÇÃO - VERSÃO GITHUB PAGES
============================================
✅ Sistema simplificado para GitHub Pages
✅ Dados salvos localmente no navegador
✅ Todos os usuários veem os mesmos dados
✅ Sem necessidade de configuração online
✅ Sistema público e acessível
✅ Avaliações carregadas: ${avaliacoes.length}
✅ Versão: 2.1 - GitHub Edition
============================================

💻 DESENVOLVIDO POR: Juliano Patrick
📧 CONTATO: julianocorrea@bateforte.com.br

🌐 HOSPEDADO NO GITHUB PAGES
============================================
        `);
    </script>
</body>
</html>
